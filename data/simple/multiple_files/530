this article may require cleanup to meet wikipedia s quality standards no cleanup reason has been specified please help improve this article if you can june 2008 this article needs additional citations for verification please help improve this article by adding citations to reliable sources unsourced material may be challenged and removed april 2007 dimension is a term in data management and data warehousing it s the logical groupings of data such as geographical location customer or product information with slowly changing dimensions scds data changes slowly rather than changing on a time based regular schedule 1 for example you may have a dimension in your database that tracks the sales records of your company s salespeople creating sales reports seems simple enough until a salesperson is transferred from one regional office to another how do you record such a change in your sales dimension you could calculate the sum or average of each salespersons sales but if you use that to compare the performance of salesmen that might give misleading information if the salesperson was transferred and used to work in a hot market where sales were easy and now works in a market where sales are infrequent his her totals will look much stronger than the other salespeople in their new region or you could create a second salesperson record and treat the transferred person as a new sales person but that creates problems dealing with these issues involves scd management methodologies referred to as type 0 through 6 type 6 scds are also sometimes called hybrid scds contents 1 type 0 2 type i 3 type ii 4 type iii 5 type iv 6 type 6 hybrid 7 type 2 type 6 fact implementation 7 1 type 2 surrogate key with type 3 attribute 7 2 pure type 6 implementation 7 3 both surrogate and natural key 8 combining types 9 see also 10 notes 11 references edit type 0 the type 0 method is passive it manages dimensional changes and no action is performed values remain as they were at the time the dimension record was first inserted in certain circumstances history is preserved with a type 0 high order types are employed to guarantee the preservation of history whereas type 0 provides the least or no control the most common types are i ii and iii edit type i this methodology overwrites old with new data and therefore does not track historical data its common uses are for misspelled names assuming you won t need to know how it was misspelled in the past example of a supplier table supplier key supplier code supplier name supplier state 123 abc acme supply co ca in the above example supplier code is the natural key and supplier key is a surrogate key technically the surrogate key is not necessary since the table will be unique by the natural key supplier code however to optimize performance on joins use integer rather than character if the supplier relocates the headquarters to illinois the updated table would overwrite this record supplier key supplier code supplier name supplier state 123 abc acme supply co il the disadvantage of this is that there is no history in the data warehouse advantages of this type is it s easy to maintain if you have calculated an aggregate table summarizing facts by state it will need to be recalculated when the supplier state is changed 1 edit type ii this method tracks historical data by creating multiple records for a given natural key in the dimensional tables with separate surrogate keys and or different version numbers unlimited history is preserved for each insert for example if the supplier relocates to illinois the version numbers will be incremented sequentially supplier key supplier code supplier name supplier state version 123 abc acme supply co ca 0 124 abc acme supply co il 1 another method is to add effective date columns supplier key supplier code supplier name supplier state start date end date 123 abc acme supply co ca 01 jan 2000 21 dec 2004 124 abc acme supply co il 22 dec 2004 the null end date in row two indicates the current tuple version in some cases a standardized surrogate high date e g 9999 12 31 may be used as an end date so that the field can be included in an index and so that null value substitution is not required when querying transactions that reference a particular surrogate key supplier key are then permanently bound to the time slices defined by that row of the slowly changing dimension table an aggregate table summarizing facts by state continues to reflect the historical state i e the state the supplier was in at the time of the transaction no update is needed if there are retrospective changes made to the contents of the dimension or if new attributes are added to the dimension for example a sales rep column which have different effective dates from those already defined then this can result in the existing transactions needing to be updated to reflect the new situation this can be an expensive database operation so type 2 scds are not a good choice if the dimensional model is subject to change 1 edit type iii this method tracks changes using separate columns and preserves limited history the type ii preserves unlimited history as it s limited to the number of columns designated for storing historical data the original table structure in type i and type ii is the same but type iii adds additional columns in the following example an additional column has been added to the to record the supplier s original state only the previous history is stored supplier key supplier code supplier name original supplier state effective date current supplier state 123 abc acme supply co ca 22 dec 2004 il this record contains a column for the original state and current state cannot track the changes if the supplier relocates a second time one variation of this is to create the field previous supplier state instead of original supplier state which would track only the most recent historical change 1 edit type iv the type 4 method is usually referred to as using history tables where one table keeps the current data and an additional table is used to keep a record of some or all changes for the above example the original table name is supplier and the history table is supplier history supplier supplier key supplier code supplier name supplier state 123 abc acme supply co il supplier history supplier key supplier code supplier name supplier state create date 123 abc acme supply co ca 22 dec 2004 this method resembles how database audit tables and change data capture techniques function edit type 6 hybrid the type 6 method combines the approaches of types 1 2 and 3 1 2 3 6 one possible explanation of the origin of the term was that it was coined by ralph kimball during a conversation with stephen pace from kalido citation needed ralph kimball calls this method unpredictable changes with single version overlay in the data warehouse toolkit 1 the supplier table starts out with one record for our example supplier supplier key supplier code supplier name current state historical state start date end date current flag 123 abc acme supply co ca ca 01 jan 2000 31 dec 9999 y the current state and the historical state are the same the current flag attribute indicates that this is the current or most recent record for this supplier when acme supply company moves to illinois we add a new record as in type 2 processing supplier key supplier code supplier name current state historical state start date end date current flag 123 abc acme supply co il ca 01 jan 2000 21 dec 2004 n 124 abc acme supply co il il 22 dec 2004 31 dec 9999 y we overwrite the current state information in the first record supplier key 123 with the new information as in type 1 processing we create a new record to track the changes as in type 2 processing and we store the history in a second state column historical state which incorporates type 3 processing for example if the supplier were to relocate again we would add another record to the supplier dimension and we would overwrite the contents of the current state column supplier key supplier code supplier name current state historical state start date end date current flag 123 abc acme supply co ny ca 01 jan 2000 21 dec 2004 n 124 abc acme supply co ny il 22 dec 2004 03 feb 2008 n 125 abc acme supply co ny ny 04 feb 2008 31 dec 9999 y note that for the current record current flag y the current state and the historical state are always the same 1 edit type 2 type 6 fact implementation edit type 2 surrogate key with type 3 attribute in many type 2 and type 6 scd implementations the surrogate key from the dimension is put into the fact table in place of the natural key when the fact data is loaded into the data repository 1 the surrogate key is selected for a given fact record based on its effective date and the start date and end date from the dimension table this allows the fact data to be easily joined to the correct dimension data for the corresponding effective date here is the supplier table as we created it above using type 6 hybrid methodology supplier key supplier code supplier name current state historical state start date end date current flag 123 abc acme supply co ny ca 01 jan 2000 21 dec 2004 n 124 abc acme supply co ny il 22 dec 2004 03 feb 2008 n 125 abc acme supply co ny ny 04 feb 2008 31 dec 9999 y once the delivery table contains the correct supplier key it can easily be joined to the supplier table using that key the following sql retrieves for each fact record the current supplier state and the state the supplier was located in at the time of the delivery select delivery delivery cost supplier supplier name supplier historical state supplier current state from delivery inner join supplier on delivery supplier key supplier supplier key edit pure type 6 implementation having a type 2 surrogate key for each time slice can cause problems if the dimension is subject to change 1 a pure type 6 implementation does not use this but uses a surrogate key for each master data item e g each unique supplier has a single surrogate key this avoids any changes in the master data having an impact on the existing transaction data it also allows more options when querying the transactions here is the supplier table using the pure type 6 methodology supplier key supplier code supplier name supplier state start date end date 456 abc acme supply co ca 01 jan 2000 21 dec 2004 456 abc acme supply co il 22 dec 2004 03 feb 2008 456 abc acme supply co ny 04 feb 2008 31 dec 9999 the following example shows how the query must be extended to ensure a single supplier record is retrieved for each transaction select supplier supplier code supplier supplier state from supplier inner join delivery on supplier supplier key delivery supplier key and delivery delivery date gt supplier start date and delivery delivery date lt supplier end date a fact record with an effective date delivery date of august 9 2001 will be linked to supplier code of abc with a supplier state of ca a fact record with an effective date of october 11 2007 will also be linked to the same supplier code abc but with a supplier state of il whilst more complex there are a number of advantages of this approach including if there is more than one date on the fact e g order date delivery date invoice payment date you can choose which date to use for a query you can do as at now as at transaction time or as at a point in time queries by changing the date filter logic you don t need to reprocess the fact table if there is a change in the dimension table e g adding additional fields retrospectively which change the time slices or if you make a mistake in the dates on the dimension table you can correct them easily you can introduce bi temporal dates in the dimension table you can join the fact to the multiple versions of the dimension table to allow reporting of the same information with different effective dates in the same query the following example shows how a specific date such as 2012 01 01 00 00 00 which could be the current datetime can be used select supplier supplier code supplier supplier state from supplier inner join delivery on supplier supplier key delivery supplier key and 2012 01 01 00 00 00 gt supplier start date and 2012 01 01 00 00 00 lt supplier end date edit both surrogate and natural key an alternative implementation is to place both the surrogate key and the natural key into the fact table 2 this allows the user to select the appropriate dimension records based on the primary effective date on the fact record above the most recent or current information any other date associated with the fact record this method allows more flexible links to the dimension even if you have used the type 2 approach instead of type 6 here is the supplier table as we might have created it using type 2 methodology supplier key supplier code supplier name supplier state start date end date current flag 123 abc acme supply co ca 01 jan 2000 21 dec 2004 n 124 abc acme supply co il 22 dec 2004 03 feb 2008 n 125 abc acme supply co ny 04 feb 2008 31 dec 9999 y the following sql retrieves the most current supplier name and supplier state for each fact record select delivery delivery cost supplier supplier name supplier supplier state from delivery inner join supplier on delivery supplier code supplier supplier code where supplier current flag y if there are multiple dates on the fact record the fact can be joined to the dimension using another date instead of the primary effective date for instance the delivery table might have a primary effective date of delivery date but might also have an order date associated with each record the following sql retrieves the correct supplier name and supplier state for each fact record based on the order date select delivery delivery cost supplier supplier name supplier supplier state from delivery inner join supplier on delivery supplier code supplier supplier code and delivery order date gt supplier start date and delivery order date lt supplier end date some cautions if the join query is not written correctly it may return duplicate rows and or give incorrect answers the date comparison might not perform well some business intelligence tools do not handle generating complex joins well the etl processes needed to create the dimension table needs to be carefully designed to ensure that there are no overlaps in the time periods for each distinct item of reference data edit combining types different scd types can be applied to different columns of a table for example we can apply type 1 to the supplier name column and type 2 to the supplier state column of the same table the supplier table edit see also change data capture log trigger edit notes a b c d e f g h kimball ralph ross margy the data warehouse toolkit the complete guide to dimensional ross margy kimball ralph march 1 2005 slowly changing dimensions are not always as easy as 1 2 3 intelligent enterprise http intelligent enterprise informationweek com showarticle jhtml jsessionid vqabjr4pdjsw1qe1ghpskh4atmy32jvn articleid 59301280 edit references bruce ottmann chris angus data processing system us patent office patent number 7 003 504 february 21 2006 ralph kimball kimball university handling arbitrary restatements of history 1 december 9 2007 v t e data warehouse 160 creating the data warehouse concepts database dimension dimensional modeling fact olap star schema aggregate variants anchor modeling column oriented dbms data vault modeling holap molap rolap operational data store elements data dictionary metadata data mart sixth normal form surrogate key fact fact table early arriving fact measure dimension dimension table degenerate slowly changing filling extract transform load etl extract transform load 160 using the data warehouse concepts business intelligence dashboard data mining decision support system dss olap cube languages data mining extensions dmx multidimensional expressions mdx xml for analysis xmla tools business intelligence tools reporting software spreadsheet 160 related people bill inmon ralph kimball products comparison of olap servers data warehousing products and their producers 