discounted cumulative gain dcg is a measure of effectiveness of a web search engine algorithm or related applications often used in information retrieval using a graded relevance scale of documents in a search engine result set dcg measures the usefulness or gain of a document based on its position in the result list the gain is accumulated from the top of the result list to the bottom with the gain of each result discounted at lower ranks 1 contents 1 mathematical details 1 1 cumulative gain 1 2 discounted cumulative gain 1 3 normalized dcg 2 example 3 references edit mathematical details two assumptions are made in using dcg and its related measures highly relevant documents are more useful when appearing earlier in a search engine result list have higher ranks highly relevant documents are more useful than marginally relevant documents which are in turn more useful than irrelevant documents dcg originates from an earlier more primitive measure called cumulative gain edit cumulative gain cumulative gain cg is the predecessor of dcg and does not include the position of a result in the consideration of the usefulness of a result set in this way it is the sum of the graded relevance values of all results in a search result list the cg at a particular rank position is defined as where is the graded relevance of the result at position the value computed with the cg function is unaffected by changes in the ordering of search results that is moving a highly relevant document above a higher ranked less relevant document does not change the computed value for cg based on the two assumptions made above about the usefulness of search results dcg is used in place of cg for a more accurate measure edit discounted cumulative gain the premise of dcg is that highly relevant documents appearing lower in a search result list should be penalized as the graded relevance value is reduced logarithmically proportional to the position of the result the discounted cg accumulated at a particular rank position is defined as there has not been shown any theoretically sound justification for using a logarithmic reduction factor 2 other than the fact that it produces a smooth reduction an alternative formulation of dcg 3 places stronger emphasis on retrieving relevant documents the function is equivalent to the previous dcg function when the relevance values of documents are binary edit normalized dcg search result lists vary in length depending on the query comparing a search engine s performance from one query to the next cannot be consistently achieved using dcg alone so the cumulative gain at each position for a chosen value of should be normalized across queries this is done by sorting documents of a result list by relevance producing the maximum possible dcg till position also called ideal dcg idcg till that position for a query the normalized discounted cumulative gain or ndcg is computed as the ndcg values for all queries can be averaged to obtain a measure of the average performance of a search engine s ranking algorithm note that in a perfect ranking algorithm the will be the same as the producing an ndcg of 1 0 all ndcg calculations are then relative values on the interval 0 0 to 1 0 and so are cross query comparable the main difficulty encountered in using ndcg is the unavailability of an ideal ordering of results when only partial relevance feedback is available edit example presented with a list of documents in response to a search query an experiment participant is asked to judge the relevance of each document to the query each document is to be judged on a scale of 0 3 with 0 meaning irrelevant 3 meaning completely relevant and 1 and 2 meaning somewhere in between for the documents ordered by the ranking algorithm as the user provides the following relevance scores that is document 1 has a relevance of 3 document 2 has a relevance of 2 etc the cumulative gain of this search result listing is changing the order of any two documents does not affect the cg measure if and are switched the cg remains the same 11 dcg is used to emphasize highly relevant documents appearing early in the result list using the logarithmic scale for reduction the dcg for each result in order is 1 3 0 n a 2 2 1 2 3 3 1 58 1 899 4 0 2 0 0 5 1 2 32 0 431 6 2 2 59 0 772 so the of this ranking is now a switch of and results in a reduced dcg because a less relevant document is placed higher in the ranking that is a more relevant document is discounted more by being placed in a lower rank the performance of this query to another is incomparable in this form since the other query may have more results resulting in a larger overall dcg which may not necessarily be better in order to compare the dcg values must be normalized to normalize dcg values an ideal ordering for the given query is needed for this example that ordering would be the monotonically decreasing sort of the relevance judgments provided by the experiment participant which is the dcg of this ideal ordering or idcg is then and so the ndcg for this query is given as edit references kalervo jarvelin jaana kekalainen cumulated gain based evaluation of ir techniques acm transactions on information systems 20 4 422 446 2002 b croft d metzler and t strohman 2009 search engines information retrieval in practice addison wesley http learningtorankchallenge yahoo com instructions php 