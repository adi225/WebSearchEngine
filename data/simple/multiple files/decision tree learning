this article is about decision trees in machine learning for the use of the term in decision analysis see decision tree decision tree learning used in statistics data mining and machine learning uses a decision tree as a predictive model which maps observations about an item to conclusions about the item s target value more descriptive names for such tree models are classification trees or regression trees in these tree structures leaves represent class labels and branches represent conjunctions of features that lead to those class labels in decision analysis a decision tree can be used to visually and explicitly represent decisions and decision making in data mining a decision tree describes data but not decisions rather the resulting classification tree can be an input for decision making this page deals with decision trees in data mining contents 1 general 2 types 3 formulae 3 1 gini impurity 3 2 information gain 4 decision tree advantages 5 limitations 6 extensions 6 1 decision graphs 6 2 search through evolutionary algorithms 7 see also 8 implementations 9 references 10 external links edit general a tree showing survival of passengers on the titanic sibsp is the number of spouses or siblings aboard the figures under the leaves show the probability of survival and the percentage of observations in the leaf decision tree learning is a method commonly used in data mining the goal is to create a model that predicts the value of a target variable based on several input variables an example is shown on the right each interior node corresponds to one of the input variables there are edges to children for each of the possible values of that input variable each leaf represents a value of the target variable given the values of the input variables represented by the path from the root to the leaf a tree can be learned by splitting the source set into subsets based on an attribute value test this process is repeated on each derived subset in a recursive manner called recursive partitioning the recursion is completed when the subset at a node has all the same value of the target variable or when splitting no longer adds value to the predictions this process of top down induction of decision trees tdidt 1 is an example of a greedy algorithm and it is by far the most common strategy for learning decision trees from data but it is not the only strategy in fact some approaches have been developed recently allowing tree induction to be performed in a bottom up fashion 2 in data mining decision trees can be described also as the combination of mathematical and computational techniques to aid the description categorisation and generalisation of a given set of data data comes in records of the form the dependent variable y is the target variable that we are trying to understand classify or generalise the vector x is composed of the input variables x 1 x 2 x 3 etc that are used for that task edit types decision trees used in data mining are of two main types classification tree analysis is when the predicted outcome is the class to which the data belongs regression tree analysis is when the predicted outcome can be considered a real number e g the price of a house or a patient s length of stay in a hospital the term classification and regression tree cart analysis is an umbrella term used to refer to both of the above procedures first introduced by breiman et al 3 trees used for regression and trees used for classification have some similarities but also some differences such as the procedure used to determine where to split 3 some techniques often called ensemble methods construct more than one decision tree bagging decision trees an early ensemble method builds multiple decision trees by repeatedly resampling training data with replacement and voting the trees for a consensus prediction 4 a random forest classifier uses a number of decision trees in order to improve the classification rate boosted trees can be used for regression type and classification type problems 5 6 rotation forest in which every decision tree is trained by first applying principal component analysis pca on a random subset of the input features 7 decision tree is the learning of decision tree from class labeled training tuples a decision tree is a flow chart like structure where each internal non leaf node denotes a test on an attribute each branch represents an outcome of the test and each leaf or terminal node holds a class label the topmost node in tree is the root node there are many specific decision tree algorithms notable ones include id3 iterative dichotomiser 3 c4 5 algorithm successor of id3 cart classification and regression tree chi squared automatic interaction detector chaid performs multi level splits when computing classification trees 8 mars extends decision trees to better handle numerical data id3 and cart are invented independently of one another at around same time b w 1970 1980 yet follow a similar approach for learning decision tree from training tuples edit formulae the algorithms that are used for constructing decision trees usually work top down by choosing a variable at each step that is the next best variable to use in splitting the set of items 9 best is defined by how well the variable splits the set into homogeneous subsets that have the same value of the target variable different algorithms use different formulae for measuring best this section presents a few of the most common formulae these formulae are applied to each candidate subset and the resulting values are combined e g averaged to provide a measure of the quality of the split edit gini impurity main article gini coefficient used by the cart classification and regression tree algorithm gini impurity is a measure of how often a randomly chosen element from the set would be incorrectly labeled if it were randomly labeled according to the distribution of labels in the subset gini impurity can be computed by summing the probability of each item being chosen times the probability of a mistake in categorizing that item it reaches its minimum zero when all cases in the node fall into a single target category to compute gini impurity for a set of items suppose i takes on values in 1 2 m and let f i the fraction of items labeled with value i in the set edit information gain main article information gain in decision trees used by the id3 c4 5 and c5 0 tree generation algorithms information gain is based on the concept of entropy used in information theory edit decision tree advantages amongst other data mining methods decision trees have various advantages simple to understand and interpret people are able to understand decision tree models after a brief explanation requires little data preparation other techniques often require data normalisation dummy variables need to be created and blank values to be removed able to handle both numerical and categorical data other techniques are usually specialised in analysing datasets that have only one type of variable ex relation rules can be used only with nominal variables while neural networks can be used only with numerical variables uses a white box model if a given situation is observable in a model the explanation for the condition is easily explained by boolean logic an example of a black box model is an artificial neural network since the explanation for the results is difficult to understand possible to validate a model using statistical tests that makes it possible to account for the reliability of the model robust performs well even if its assumptions are somewhat violated by the true model from which the data were generated performs well with large data in a short time large amounts of data can be analysed using standard computing resources edit limitations the problem of learning an optimal decision tree is known to be np complete under several aspects of optimality and even for simple concepts 10 11 consequently practical decision tree learning algorithms are based on heuristic algorithms such as the greedy algorithm where locally optimal decisions are made at each node such algorithms cannot guarantee to return the globally optimal decision tree decision tree learners can create over complex trees that do not generalise the data well this is called overfitting 12 mechanisms such as pruning are necessary to avoid this problem there are concepts that are hard to learn because decision trees do not express them easily such as xor parity or multiplexer problems in such cases the decision tree becomes prohibitively large approaches to solve the problem involve either changing the representation of the problem domain known as propositionalisation 13 or using learning algorithms based on more expressive representations such as statistical relational learning or inductive logic programming for data including categorical variables with different numbers of levels information gain in decision trees is biased in favor of those attributes with more levels 14 edit extensions edit decision graphs in a decision tree all paths from the root node to the leaf node proceed by way of conjunction or and in a decision graph it is possible to use disjunctions ors to join two more paths together using minimum message length mml 15 decision graphs have been further extended to allow for previously unstated new attributes to be learnt dynamically and used at different places within the graph 16 the more general coding scheme results in better predictive accuracy and log loss probabilistic scoring citation needed in general decision graphs infer models with fewer leaves than decision trees edit search through evolutionary algorithms evolutionary algorithms have been used to avoid local optimal decisions and search the decision tree space with little a priori bias 17 18 edit see also decision tree pruning binary decision diagram chaid cart id3 algorithm c4 5 algorithm decision stump incremental decision tree alternating decision tree structured data analysis statistics edit implementations weka a free and open source data mining suite contains many decision tree algorithms orange a free data mining software suite module orngtree knime edit references quinlan j r 1986 induction of decision trees machine learning 1 81 106 kluwer academic publishers http ieeexplore ieee org xpl freeabs all jsp arnumber 6121697 amp reason concurrency a b breiman leo friedman j h olshen r a amp stone c j 1984 classification and regression trees monterey ca wadsworth amp brooks cole advanced books amp software isbn 160 978 0 412 04841 8 breiman l 1996 bagging predictors machine learning 24 pp 123 140 friedman j h 1999 stochastic gradient boosting stanford university hastie t tibshirani r friedman j h 2001 the elements of statistical learning 160 data mining inference and prediction new york springer verlag rodriguez j j and kuncheva l i and alonso c j 2006 rotation forest a new classifier ensemble method ieee transactions on pattern analysis and machine intelligence 28 10 1619 1630 kass g v 1980 an exploratory technique for investigating large quantities of categorical data applied statistics 29 2 119 127 doi 10 2307 2986296 jstor 160 2986296 rokach l maimon o 2005 top down induction of decision trees classifiers a survey ieee transactions on systems man and cybernetics part c 35 4 476 487 doi 10 1109 tsmcc 2004 843247 hyafil laurent rivest rl 1976 constructing optimal binary decision trees is np complete information processing letters 5 1 15 17 doi 10 1016 0020 0190 76 90095 8 murthy s 1998 automatic construction of decision trees from data a multidisciplinary survey data mining and knowledge discovery principles of data mining 2007 doi 10 1007 978 1 84628 766 4 isbn 160 978 1 84628 765 7 edit horv th tam s yamamoto akihiro eds 2003 inductive logic programming lecture notes in computer science 2835 doi 10 1007 b13700 isbn 160 978 3 540 20144 1 edit deng h runger g tuv e 2011 bias of importance measures for multi valued attributes and solutions proceedings of the 21st international conference on artificial neural networks icann pp 160 293 300 http citeseer ist psu edu oliver93decision html tan amp dowe 2003 papagelis a kalles d 2001 breeding decision trees using evolutionary techniques proceedings of the eighteenth international conference on machine learning p 393 400 june 28 july 01 2001 barros rodrigo c basgalupp m p carvalho a c p l f freitas alex a 2011 a survey of evolutionary algorithms for decision tree induction ieee transactions on systems man and cybernetics part c applications and reviews vol 42 n 3 p 291 312 may 2012 edit external links building decision trees in python from o reilly an addendum to building decision trees in python from o reilly decision trees page at aitopics org a page with commented links decision tree implementation in ruby ai4r evolutionary learning of decision trees in c 